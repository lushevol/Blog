# 比分组合问题

### 题目

`有N(N>=1)个球队, 两两进行比赛, 胜利获3分, 失败获0分, 打平获1分. 请问一个球队的得分有多少种可能性?`

### 分析

首先这是一个组合问题, N-1个数中, 有任意个数的3、1和0, 求解总和的个数.

我们设定一个定长的数列, 长度为N-1, 里面有`i`个3, `j`个1 和`N-1-i-j`个0. 理论上有
$$
\frac{\left ( N-1+1 \right )\left ( N-1 \right )}{2}
$$
种情况.

但是, 三个`1`的和等于一个`3`, 因此肯定存在重复的结果.

当数列中的`1`多于等于3个时, 每一种情况都有能替代的情况, 如N=10时:

333==111==1110 对应 333==3==111000的结果

3333==111==000对应3333==3==00000的结果

...

也即是, 要想不重复, 数列中只能出现小于3个次数的`1`, 也就是`1`只能出现0、1、2次.

除开`1`, 只有`3`和`0`的情况下, 有N种可能性, 当`3`有N-1个时, `1`只能是0个; `3`有N-2个时, `1`只能是0、1个. 因此一共有
$$
3N - 3
$$
种情况.

### 代码实现

```java
class Solution {
  public int main(int n) {
    if (n == 1) return 1;	// 当只有一支球队时, 必胜.
    if (n == 2) return 3;
    if (n == 3) return 5;
    if (n >= 4) return 3*n-3;
  }
}
```

### 事后诸葛亮

考试中花了5分钟缕清了思路, 一开始准备用Set来做, 后来发现Set有些接口不太清楚, 而且Online IDE没有Hint. 因此将它转成数学做法, 但当时没有想到归纳总结到公式的地步. 因此最终结果不是很美观.

```java
class Solution {
  public int main(int n) {
    if (n == 1) return 1;
    
    int count = 0; // 可能性总数
    int sub = 0; // 重复数
    
    // 胜
    for (int i=0; i<=n-1; i++) {
      // 平
      for (int j=0; j<=n-1-i; j++) {
        count++;
        if (j >= 3) sub++;
      }
    }
    
    return count - sub;
  }
}
```



### 总结

考试中暴露了我的一些问题, 虽然会使用JAVA, 但对JAVA的API不熟悉, 依赖提示, 真正到了脱离IDE时就懵.

给自己立个小目标:

- 脱离Hint, 把API背下来 !